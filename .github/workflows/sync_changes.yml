name: Sync Latest Push

on:
  push:
    branches:
      - main  # branch you want to trigger on

jobs:
  copy_push:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout source repository
      uses: actions/checkout@v2
      with:
        repository: pamsacdalan/MLtraining  # source repository
        
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '16' 
        
    - name: Copy contents to destination repository
      run: |
        cp -r . $HOME/destination
        cd $HOME/destination
        git init
        git config user.name "GitHub Actions"
        git config user.email "actions@github.com"
        git add .
        git commit -m "Copy latest push from source repository"
        git push --force --quiet https://github.com/pamsacdalan/bashGitProject.git main  #  destination repository
